{% extends 'base.html' %}
{% load static %}
{% block head %}
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

{% endblock head %}
{% block title %}Leaderboard | Olympics{% endblock %}
{% block content %}

    <div
            style="background-image: url(/media/olympics.jpg); background-attachment: fixed; min-height: 400px; background-position: center; background-repeat:no-repeat; background-size:cover;">
        <h1 style="font-weight: 900; font-style: italic; color: white; -webkit-text-stroke-width: 1px;
  -webkit-text-stroke-color: black;"
            class="text-center self-center text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[20vh] text-white">
            <a
                    class="hidden md:block text-[calc(100px+0.5vw)]"
                    style="color: black; text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.37), 0px 0px 5px rgb(255, 255, 255), 0px 0px 34px rgba(0,0,0,0.37);">
                LEADERBOARD </a>
            <a
                    class="hidden max-md:block text-[27vw] leading-[100px]"
                    style="color: black; text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.37), 0px 0px 5px rgb(255, 255, 255), 0px 0px 34px rgba(0,0,0,0.37);">
                LEADER<br>BOARD </a>
        </h1>
    </div>
    <section class="bg-drk py-3 sm:py-5">
        <div class="flex flex-row">
            <div
                    class="hidden md:block basis-1/4 max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 ml-4 h-[88vh] sticky top-20">
                <center>
                    <h5 class="mb-2 text-2xl font-bold tracking-tight mt-4 text-gray-900 dark:text-white">Top Rank: United
                        States</h5>
                </center>
                <img class="rounded-t-lg px-[50px]" src="https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg" alt=""/>
                <div class="my-4 mx-5 space-y-3">
                    <div href="#"
                         class=" items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
                        <center>
                            <span class="flex-1 ms-3 whitespace-nowrap">Most Medals Scored By: Leon Marchand</span>
                        </center>
                    </div>
                </div>
                <div class="my-4 mx-5 space-y-2">
                    <div href="#"
                         class=" items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
                        <center>
                            <span class="flex-1 ms-3 whitespace-nowrap text-center">Most Medals Scored in: Athletics</span>
                        </center>
                    </div>
                </div>

            </div>

            <div class="basis-3/4 mx-auto max-w-screen-2xl lg:px-6">
                <div class="relative overflow-hidden bg-white shadow-md dark:bg-gray-800 sm:rounded-lg">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                            <tr>
                                <th scope="col" class="p-4">
                                    <div class="flex items-center font-medium whitespace-nowrap ">
                                        Rank
                                    </div>
                                </th>
                                <th scope="col" class=" py-3">Country</th>
                                <th scope="col" class="py-3" style="font-size: x-large;">ðŸ¥‡</th>
                                </th>
                                <th scope="col" class=" py-3" style="font-size: x-large;">ðŸ¥ˆ</th>
                                <th scope="col" class=" py-3" style="font-size: x-large;">ðŸ¥‰</th>
                                <th scope="col" class="py-3">
                                    <img src="https://gstatic.olympics.com/s1/t_original/static/srm/paris-2024/medalAll.svg"
                                         alt="">
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for country in countries %}
                                <tr id="infoTrigger1"
                                    class="border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <td class="w-1 px-4 max-md:pr-[0px] py-3">
                                    <div class="flex items-center">
                                        {{ country.0 }}&#41;
                                    </div>
                                </td>
                                <td scope="row"
                                    class="flex items-center px-4 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"
                                    style="
                                    padding-left: 0px;
                                ">
                                    {% if country.2 %}
                                        <img src="https://flagsapi.com/{{ country.2 }}/flat/64.png"
                                             alt="iMac Front Image"
                                             class="w-auto h-8 mr-3">
                                    {% endif %}
                                    {{ country.1 }}
                                </td>
                                <td class=" py-2 max-md:text-center">{{ country.3 }}</td>
                                <td class=" py-2 max-md:text-center">{{ country.4 }}</td>
                                <td class=" py-2 max-md:text-center">{{ country.5 }}</td>
                                <td class=" py-2 max-md:text-center">{{ country.6 }}</td>
                            {% endfor %}
                            </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

    </section>

    <script>
        let state = 0;
        $(document).ready(function () {
            $('#infoTrigger1').on('click', function () {
                const newSection = $(`<td colspan='7'
            class="new-section">
            <center>
    <h5 class="mb-2 text-2xl font-bold tracking-tight mt-4 text-gray-900 dark:text-white">Top Rank: United
                        States</h5>
            </center>
             <img class="rounded-t-lg px-[50px]" src="https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg" alt=""/>
<div class="my-4 mx-5 space-y-3">
<div class="my-4 mx-5 space-y-3">
                    <div href="#"
                         class=" items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
                        <center>
                            <span class="flex-1 ms-3 whitespace-nowrap">Most Medals Scored By: Leon Marchand</span>
                        </center>
                    </div>
                </div>
                <div class="my-4 mx-5 space-y-2">
                    <div href="#"
                         class=" items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
                        <center>
                            <span class="flex-1 ms-3 whitespace-nowrap text-center">Most Medals Scored in: Athletics</span>
                        </center>
                    </div>
                </div>

        </td>`);

                if (window.outerWidth > 768) {
                    newSection.css('display', 'none')
                }

                if (state == 0) {
                    console.log('0')
                    console.log(newSection)
                    $('#infoTrigger1').after(newSection)
                    state = 1
                } else {
                    console.log('1')
                    state = 0
                    $('.new-section').remove()
                }
            });
        });

    </script>
{% endblock content %}