{% extends 'base.html' %}
{% load static %}
{% block head %}

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<style>
    @font-face {
        font-family: UnityFont;
        src: url("{ static 'heroFont.ttf'}") format("truetype");
    }

    .athleteHeading {
        font-family: "UnityFont", sns-serif;
        font-style: normal;
        animation-timeline: scroll();
        animation-duration: 1ms;
        animation-name: scaleDown;
        animation-timing-function: ease-in-out;
        color: #ffffff;
        background-image: -webkit-linear-gradient(45deg, #ffffff 21%, #9c9599 50%, #242326 100%);
        background-clip: text;
        -webkit-background-clip: text;
        text-fill-color: transparent;
        -webkit-text-fill-color: transparent;
    }

    .athleteImg {
        animation-timeline: scroll();
        animation-duration: 1ms;
        animation-name: goRightAndShrink;
        animation-timing-function: ease-in-out;
    }

    .athleteInfo {
        animation-timeline: scroll();
        animation-duration: 1ms;
        animation-name: scaleUp;
        animation-timing-function: ease-in-out;
    }

    @keyframes scaleUp {
        0% {
            transform: translateX(-25%) scale(0.5) translateY(-50%);
        }

        100% {
            margin-top: 38vh;
            transform: translateX(0) scale(1);
        }
    }

    @keyframes scaleDown {
        0% {
            transform: translateX(0) scale(1);
        }

        100% {
            transform: translateX(-25%) scale(0.5) translateY(-50%);
        }
    }

    @keyframes goRightAndShrink {
        0% {
            transform: translateX(0) scale(1);
        }

        100% {
            transform: translateX(15%) scale(0.8) translateY(10%);
            margin-top: -116vh;
        }
    }
</style>
{% endblock head %}

{% block content %}

<div class="grid sm:flex sm:h-lvh max-sm:flex-row-reverse fixed">
    <div class="basis-5/6 max-sm:basis-1 grid gap-4 h-10 h-svh bg-[#1A1A1A] max-w-[82vw]">
        <h1 class="sm:text-[10vw] athleteHeading" style="text-align: center;
        font-size: 25vw;
        line-height: 18vw;
        margin-bottom: -72vh;
        margin-top: 5vh;">{{ athlete_data.name }}</h1>
        <div class=" h-[72vh] mt-[82vh] bg-white athleteInfo">
            <div class="grid grid-cols-2">
                <div class="relative overflow-x-auto mt-[20px] rounded-lg w-[30vw] ml-[10px]">
                    <p class="my-auto block w-[30vw] text-sm text-left rtl:text-right">Lorem ipsum dolor sit, amet
                        consectetur adipisicing elit. Unde animi eius, laborum quaerat quisquam fugiat sequi odit
                        placeat vero corrupti nobis. Dolore nostrum ratione autem iusto quas ipsum voluptas aperiam.
                        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Aspernatur modi, beatae adipisci omnis
                        cupiditate repellat quae natus rem reiciendis nostrum esse quibusdam quia hic voluptate
                        molestiae fugiat dolor iure. Doloremque. Lorem ipsum dolor, sit amet consectetur adipisicing
                        elit. Deleniti es</p>
                </div>
                <div class="relative overflow-x-auto mt-[20px] rounded-lg w-[30vw]">
                    <table class="w-[10vw] text-sm text-left rtl:text-right">
                        <thead class="text-xs uppercase">
                            <tr>
                                <th scope="col" class="px-6 py-3">
                                    Information
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">
                                    GOLD MEDALS
                                </th>
                            </tr>
                            <tr class="border-b">
                                <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">
                                    Microsoft Surface Pro
                                </th>
                            </tr>
                            <tr class="border-b">
                                <th scope="row" class="px-6 py-4 font-medium whitespace-nowrape">
                                    Magic Mouse 2
                                </th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <img class="athleteImg sm:ml-[16vw] mt-[-150vh] static"
            src="{{ athlete_data.without_bg.url }}"
            alt="" style="z-index: 10;">
    </div>
    <div style="background-color: whitesmoke; z-index: 100;" class="basis-2/6 max-sm:basis-1 p-4 rounded-lg h-svh">
       <center><p style="font-weight: 800;font-size: 52px;">INDIA</p></center>
        <center><img
                src="https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/1280px-Flag_of_India.svg.png"
                class="object-cover countryImg w-[200px] rounded-lg"></center>
        <div class="grid grid-rows-2 grid-cols-2 gap-4 h-[400px]">
            <div class="inline-block flex flex-col align-center justify-center">
                <!-- <span class="text-center" style="font-size: 80px; line-height:70px"></span> -->
                 <img src="/media/gold.png">      
                <span class="text-center" style="font-size: 40px">100</span>
            </div>
            <div class="inline-block flex flex-col align-center justify-center">
                <img src="/media/silver.png">      
                <span class="text-center" style="font-size: 40px">100</span>
            </div>
            <div class="col-span-2 inline-block flex flex-col align-center justify-center" style="margin-top: -100px;">
                <img src="/media/bronze.png">      
                <span class="text-center" style="font-size: 40px">100</span>
            </div>
        </div>


    </div>

</div>


<script>
    const issues = [];

    function checkScrollingAncestor(elem) {
        if (!elem.parentElement || elem.parentElement.tagName.toLowerCase() === 'body') {
            return false;
        }

        const computedStyle = window.getComputedStyle(elem.parentElement);

        if (computedStyle.overflowX == 'auto') {
            return true;
        } else {
            return checkScrollingAncestor(elem.parentElement);
        }
    }

    function getSizedAncestor(elem) {
        if (!elem.parentElement) {
            return null;
        }

        if (elem.parentElement.offsetWidth > 0) {
            return elem.parentElement;
        } else {
            return getSizedAncestor(elem.parentElement);
        }
    }

    function checkElement(el) {
        const hasScrollingAncestor = checkScrollingAncestor(el);
        if (hasScrollingAncestor) {
            return;
        }

        const isHidden = (el.offsetParent === null);
        if (isHidden) {
            return;
        }

        // Find elements that overflow the document width
        if (el.offsetWidth > document.documentElement.offsetWidth) {
            issues.push(el);
        }

        const ancestor = getSizedAncestor(el);
        const info = window.getComputedStyle(el);

        // Find any negative margins (deliberate outflow)
        const adjustment =
            (info.marginLeft.startsWith('-') ? parseFloat(info.marginLeft) * -1 : 0)
            +
            (info.marginRight.startsWith('-') ? parseFloat(info.marginRight) * -1 : 0);

        if (ancestor && (el.offsetWidth - adjustment) > ancestor.offsetWidth) {
            if (el.style.fontSize == '25vw') {
                el.style.fontSize = '20vw'
            }
            issues.push(el);
        }
    }

    document.querySelectorAll('*').forEach(checkElement);

    issues.length > 0 && issues[0].scrollIntoView();
    console.log(issues);

</script>
{% endblock content %}